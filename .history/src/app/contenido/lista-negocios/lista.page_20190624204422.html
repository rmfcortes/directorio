<ion-header no-border>
    <ion-toolbar color="ligth">
        <ion-buttons slot="start">
            <ion-button (click)="regresar()">
                <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-searchbar placeholder="Restaurantes o platillos"></ion-searchbar>
    </ion-toolbar>
</ion-header>

<ion-content>

    <div *ngIf="infoReady" class="scrolling-wrapper">
        <div class="card" *ngFor="let item of subCategorias">
            <img [src]="item.url" alt=""> <br>
            <span>{{item.categoria}}</span>
        </div>
    </div>

    <div *ngIf="hasOfertas" style="padding: .25rem 2rem">
        <ion-item lines="none" detail>
            <ion-label>Promociones</ion-label>
            <ion-note slot="end" color="primary">Ver todas</ion-note>
        </ion-item>
        <ion-slides [options]="sliderConfig" pager="true">
            <ion-slide *ngFor="let sub of ofertas">
                <img [src]="sub.url">
            </ion-slide>
        </ion-slides>
    </div>

    <ion-list>
        <ion-item *ngFor="let item of negocios" (click)="goDetails(item)">
            <ion-thumbnail slot="start">
                <img [src]="item.url">
            </ion-thumbnail>
            <ion-grid no-padding>
                <ion-row>
                    <ion-col>
                        <h6 class="mb-5 mt-0 wrap-text">{{item.nombre}}</h6>
                        <ion-label class="negocio-descripcion">{{item.subCategoria}}</ion-label>
                    </ion-col>
                </ion-row>
                <ion-row>
                    <ion-col>
                        <div *ngIf="item.rate > 0">
                            <span class="star">{{item.rate | number:'1.0-2'}}
                                <ion-icon name="star"></ion-icon>
                                <small style="color: darkgray">({{item.valoraciones}})</small>
                            </span>
                        </div>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-item>
    </ion-list>

    <div *ngIf="!infoReady">
        <div *ngFor="let item of [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]">
            <ion-item>
                <ion-avatar slot="start">
                    <ion-skeleton-text animated></ion-skeleton-text>
                </ion-avatar>
                <ion-avatar slot="start">
                    <ion-skeleton-text animated></ion-skeleton-text>
                </ion-avatar>
                <ion-avatar slot="start">
                    <ion-skeleton-text animated></ion-skeleton-text>
                </ion-avatar>
                <ion-avatar slot="start">
                    <ion-skeleton-text animated></ion-skeleton-text>
                </ion-avatar>
            </ion-item>
            <div style="text-align: center">
                <ion-skeleton-text animated style="width: 80%; height: 300px;"></ion-skeleton-text>
            </div>
            <ion-label>
                <h3>
                    <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
                </h3>
                <p>
                    <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
                </p>
                <p>
                    <ion-skeleton-text animated style="width: 60%"></ion-skeleton-text>
                </p>
            </ion-label>
        </div>
    </div>

</ion-content>